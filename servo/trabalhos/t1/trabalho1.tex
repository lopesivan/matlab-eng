% Relatório do laboratório 5 de servo
% Felipe Bandeira da Silva
% 27/09/2013

%\documentclass[a4paper, 10pt]{article}
\documentclass[paper=a4, fontsize=11pt]{article}

\usepackage[brazil]{babel}
\usepackage[utf8]{inputenc}
\usepackage{listings}
\usepackage{color}
\usepackage{amsthm}
\usepackage{graphicx}

\usepackage{schemabloc}
\usetikzlibrary{circuits}

\setlength{\parindent}{0pt}
\setlength{\parskip}{18pt}

\title{Trabalho 1\\Principio de Controle e Servo Mecanismos}
\author{Felipe Bandeira da Silva, 1020942\\Deyd Jackson}

%\date{}

\begin{document}


\maketitle

Coletânea com questões selecionadas das duas lista da 1np.

%\newpage

%\listoffigures

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% primeira questão
\newpage

1. Encontre a transformada de Laplace para as seguintes funções:

b) 

$$
f(t) = 0.03(1 - cos(2t))
$$

Aplicando a tranformada inversa de Laplace,

$$
F(s) = \frac{0.03}{s} - \frac{0.03 s}{s^2+4}
$$

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% segunda questão
\newpage

2. Determine o valor final da função $f(t)$ cuja transformada de Laplace é dada por:
$$
F(s) = \frac{10}{s(s+1)}
$$
expandindo em frações parciais,
$$
F(s) = \frac{10}{s} - \frac{10}{s+1}
$$
aplicando a transformada inversa de Laplace,
$$
f(t) = 10 u(t) - 10 e^{-t}
$$
para $t>0$,
$$
f(t) = 10 - 10 e^{-t}
$$

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% terceira questão
\newpage

3. Represente as seguintes equações diferenciais no domínio complexo $s=\sigma + j \omega$.

a) $2 \ddot{x} + 7 \dot{x} +  3 = 0$ para $x(0)=3$ e $\dot{x(0)}=0$

Aplicando as propriedades de Laplace para equações diferenciais,

$$
2 (s X(s) - 3 s - 0) + 7 (s X(s) - 3) + 3 X(s) = 0
$$

Isolando $X(s)$,

$$
X(s) = \frac{6s + 21}{9 s + 3} = \frac{2 s + 7}{3 s + 1}
$$

b) $\ddot{x} + 3 \ddot{x} + 6 x = 0$ para $x(0) = 0$ e $\dot{x(0)}=3$

Aplicando novamente Laplace,

$$
s X(s) - 3 + 3 (s X(s)) + 6 X(s) = 0
$$

Isolando $X(s)$,

$$
X(s) = \frac{3}{4 s + 6}
$$

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% quarta questão
\newpage

4. Obtenha a resposta temporal do sistema abaixo para uma entrada do tipo impulso unitário
em $t=0$. Encontre seu valor em regime permanente.

$$
G(s) = \frac{5(s+2)}{s^2(s+6)}
$$

Considerando que,

$$
\frac{Y(s)}{X(s)} = G(s)
$$

O Laplace do impulso é 1, desenvolvendo,

$$
Y(s) =  \frac{5(s+2)}{s^2(s+6)} 1 = \frac{5/3}{s^2} + \frac{5/9}{s} + \frac{-5/9}{s+6}
$$

Aplicando a transformada inversa de Laplace é possível obter a resposta temporal,

$$
y(t) = \frac{5 t}{9} + \frac{5}{9} + \frac{-5}{9} e^{-6 t}
$$

O valor de $y(t=0)$ é portanto,

$$
y(0) = 0
$$

O seu valor em regime permanente por ser encontrado, aplicando o teorema do valor final de Laplace,

$$
\lim_{s \to 0 }{s Y(s)} = \lim_{s \to 0}{\frac{5(s+2)}{s(s+6)}} = \infty
$$

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% quinta questão
\newpage

5. Determine a transformada inversa de Laplace e o valor em regime estacionário dos seguinte
sinais,

a) $Y(s) = \frac{s+3}{(s+1)(s+2)}$

Expandindo em frações parciais,
$$
Y(s) = \frac{2}{s+1} - \frac{1}{s+2}
$$
Aplicando LI,

$$
y(t) = 2 e^{-t} - e^{-2 t}
$$
Valor em regime permanente,

$$
\lim_{s \to 0 }{s Y(s)} = \lim_{s \to 0}{s \frac{s+3}{(s+1)(s+2)}} = 0 
$$

b) $Y(s) = \frac{2 s + 12}{s^2+2 s+5}$

Expandindo em frações parciais,
$$
Y(s) = \frac{ \frac{2+5j}{2} }{s+1+2j} + \frac{ \frac{2-5j}{2} }{s+1-2j}
$$
Aplicando LI,

$$
y(t) = \frac{2+5j}{2} e^{-(1+2j)t} +  \frac{2-5j}{2} e^{-(1-2j)t}
$$
Valor em regime permanente,

$$ 
\lim_{s \to 0 }{s Y(s)} = \lim_{s \to 0}{s \frac{2 s + 12}{s^2+2 s+5}} = 0  
$$

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% sexta questão
\newpage

6. Um dado sistema em repouso é submetido a uma entrada $u(t)$ do tipo exponencial
decrescente com constante de tempo unitária e valor inicial $t=0$ igual a 1. Sabendo
que o comportamento dinâmico do sistema é dado por $\ddot{x} + 3 \dot{x} + 2 x = u$,
encontre a equação que determina a resposta temporal.

O sistema é,

$$
\ddot{x} + 3 \dot{x} + 2 x = u
$$
Aplicando a Laplace e considerando os valores iniciais iguais a zero,

$$
s^2 X(s) + 3 s X(s) + 2 X(s) = U(s)
$$
Isolando $X(s)$,

$$
X(s) = \frac{1}{s^2 + 3s + 2} U(s)
$$
Sabendo que a transformada de Laplace da exponencial do problema é,

$$
U(s)=\frac{1}{1+s}
$$
A reposta para tal pode ser encontrada,

$$
Y(s) = \frac{1}{s^2 + 3s + 2} \left(\frac{1}{s+1}\right) = \frac{1}{s^3 + 4 s^2 + 5 s +2}
$$

Expandindo em frações parciais para facilitar a aplicação do Laplace inverso,

$$
Y(s) = \frac{1}{s+2} + \frac{1}{(s+1)^2} - \frac{1}{s+1}
$$

Aplicando a transformada inversa de Laplace de tal forma que a resposta temporal , para $t\geq0$, é,

$$
y(t) = e^{-2t} + t e^{-t} - e^{-t}
$$

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% sétima questão
\newpage

7. Obtenha a função de transferência de malha fechada do sistema a seguir,

A função de malha aberta é,

$$
G(s) = \frac{2}{s} \left(\frac{1}{s+1}\right)
$$

O ganho de realimentação é unitária, portanto a equação de transferência pode ser 
obtida usando,

$$
\frac{C(s)}{R(s)} = \frac{G(s)}{1 + G(s)}
$$

Substituindo os valores,

$$
\frac{C(s)}{R(s)} = \frac{2}{s^2+s+2}
$$


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% oitava questão
\newpage
8. O circuito elétrico abaixo é utilizado para carregar um capacitor em um circuito eletrônico.
Obtenha a função de transferência que representa a tensão do capacitor em relação a entrada
$i(t)$.

É sabido que a impedância capacitiva é dada por $\frac{1}{s C}$ e indutiva é $s L $. O resistor
em paralelo com o capacitor produz uma impedância,

$$
R || \frac{1}{s C} = \frac{R}{s R C + 1}
$$

Esta nova impedância em paralelo com o indutor produz,

$$
\frac{R}{s R C + 1} || s L = \frac{s R L}{s^2 R L C + s L + R}
$$

A tensão no capacitor é mesma no resistor e indutor, utilizando $\dot{V}=\dot{Z}\dot{I}$,
é possível encontra a função de transferência para o circuito,

$$
\frac{\dot{V}}{\dot{I}} = \frac{s R L}{s^2 R L C + s L + R}
$$

Onde $\dot{V}$, $\dot{I}$ e $\dot{Z}$ são grandezas vetoriais.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% nona questão
\newpage

9. Encontre as funções de transferência para as posições dos corpos $m_1$ e $m_2$ 

As equações para a figura são:
Para o corpo $m_1$
$$
m_1 \ddot{x_1} = - k_1 x_1 - k_2(x_1 - x_2) - b(\dot{x_1} - \dot{x_2}) + u
$$
Para o corpo $m_2$
$$
m_2 \ddot{x_2} = -k_3 x_2 - k_2(x_2-x_1) - b(\dot{x_2} - \dot{x_1})
$$
Simplificando as equações para os dois sistemas,
$$
m_1 \ddot{x_1} + b \dot{x_1} + (k_1 + k_2) x_1 = b \dot{x_2} + k_2 x_2 + u
$$
$$
m_2 \ddot{x_2} + b \dot{x_2} + (k_2 + k_3) x_2 = b \dot{x_1} +  k_2 x_1
$$
Aplicando a transformada inversa de Laplace para as duas equações e considerando
as condições iniciais nulas,
\begin{equation}
(m_1 s^2 + b s + (k_1 + k_2))X_1(s) = (b s + k_2)X_2(s) + U(s)
\end{equation}
\begin{equation}
(m_2 s^2 + b s + (k_2 + k_3))X_2(s) = (b s + k_2) X_1(s)
\end{equation}
Simplificando a equação 2 de tal forma que se substitui em 1,
$$
((m_1 s^2 +  b s + k_1 k_2)(m_2 s^2 + b s + k_2 + k_3)-(b s + k_2)^2)X_1(s) = (m_2 s^2 +  b s + k_2 + k_3)U(s)
$$
Logo,
\begin{equation}
    \frac{X_1(s)}{U(s)} = \frac{m_2 s^2 + b s + k_2 + k_3}{(m_1 s^2 + b s + k_1 + k_2)(m_2 s^2 + b s + k_2 + k_3) - (b s +  k_2)^2}
\end{equation}
Obtendo tambem,
\begin{equation}
    \frac{X_2(s)}{U(s)} = \frac{b s + k_2}{(m_1 s^2 + b s +  k_1 + k_2)(m_2 s^2 + b s +  k_2 + k_3) - (b s + k_2 )^2}
\end{equation}
Logo as equações 3 e 4 são funções de transferências para os corpos $m_1$ e $m_2$.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% decima questão
\newpage

10.Encontre a função de transferência equivalente para o sistema apresentado na figura
abaixo.

$G_1$ e $G_2$ formam um arranjo em paralelo, $G_3$ representa o ganho em malha aberta,
$G_4$ representa o feedback, logo $\frac{G_3}{1 + G_3 G_4}$, formando o ganho de realimentação
para tanto, a equação final fica,

$$
\frac{C(s)}{R(s)} = \frac{G1+G2}{1 + (G_1 + G_2)\frac{G_3}{1 + G_3 G_4}}
$$

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% decima primeira questão
\newpage

11. Considere a resposta ao degrau unitário do sistema de controle com realimentação 
unitária cuja função de transferência de malha aberta seja:

$$
G(s) = \frac{1}{s(s+1)}
$$

Obtenha o tempo de subida, o máximo sobre-sinal, o tempo de acomodação com tolerância de
$2\%$ e o erro em regime permanente.


A função de transferência em malha fechada é,

$$
\frac{C(s)}{R(s)} = \frac{1}{s^2 + s + 1}
$$

Onde $C(s)$ representa a saída e $R(s)$ representa a entrada. Comparando a função de 
transferência com a forma padrão de um sistema de 2ª ordem que é,

$$
\frac{\omega_n^2}{s^2 + 2 \zeta \omega_n + \omega_n^2}
$$

Nota-se então que, $\omega_n = 1$ e $2 \zeta \omega = 1$. Aplicando as equação já conhecidas
para tal analise, é possivel, obter,

$$
\zeta = \frac{1}{2} = 0.5
$$

$$
\omega_d = \omega_n (1-\zeta^2)^{1/2} = (1 - 0.5^2)^{1/2} = 866.0E-3
$$

$$
\beta = tg^{-1}{\frac{\omega_d}{\zeta \omega_n}} = tg^{-1}{\frac{0.866}{0.5}} = 1.047
$$

Tempo de subida,

$$
t_r = \frac{\pi - \beta}{\omega_d} = 2.418
$$

Tempo de pico,

$$
t_p = \frac{\pi}{\omega_d} = 3.628
$$

Máximo sobressinal,

$$
M_p = e^{\frac{-\zeta \pi}{\sqrt{1-\zeta^2}} } = 16.5 \%
$$

Tempo de acomodação(critério $2\%$),

$$
t_s = \frac{4}{\zeta \omega_n} = 8
$$


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% decima segunda questão
\newpage

12. Considere o sistema de malha fechada dado como:

$$
\frac{\omega_n^2}{s^2 + 2 \zeta \omega_n + \omega_n^2}
$$

Determine os valores de $\zeta$ e $\omega_n$ de modo que o sistema responda a uma entrada em degrau
com aproximadamente $5\%$ de sobressinal e com um tempo de acomodação de 2 segundos
(utilize o critério de $2\%$ de tolerância).

Sabendo que,

$$
t_s = \frac{4}{\zeta \omega_n} = \frac{4}{\sigma} = 4
$$

Torna,

$$
\sigma = 2
$$

Usando,

$$
M_p = e^{\frac{-\zeta \pi}{\sqrt{1-\zeta^2}} } = 0.05
$$

Encontra-se,

$$
\zeta = 690.1E-3
$$

Finalmente,

$$
\omega_n = \frac{\sigma}{\zeta} = 2.898
$$

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% decima terceira questão
\newpage

13. Considere o sistema de malha fechada apresentado na figura abaixo,
Determine o intervalo de valores de K para que o sistema seja estável.

A equação de malha fechada do sistema é,

$$
\frac{C(s)}{R(s)} = \frac{K (s-2)}{K (s-2) + s^3 + 7 s^2 + 31 s + 25}
$$

Rearranjando os denominador,

$$
\frac{C(s)}{R(s)} = \frac{K (s-2)}{s^3 7 s^2 + s(31 + K) + 25 + 2K} 
$$

Aplicando o critério de estabilidade de Routh,

\begin{center}
    \begin{tabular}{c| c c}
        $s^3$ & 1 & $31+K$ \\
        $s^2$ & 7 & $25+2K$ \\
        $s^1$ & $\frac{5K+192}{7}$ & 0 \\
        $s^0$ & $2K+25$ & 0 \\
    \end{tabular}
\end{center}

O sistema é estável para,

$$
2 K + 25 > 0
$$

e 

$$
\frac{5K+192}{7} > 0
$$

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% decima quarta questão
\newpage

14. Determine o valor de k para que o coeficiente de amortecimento $\zeta $ seja 0,5. 
A partir daí, obtenha o tempo de subida, o máximo sobressinal e o tempo de acomodação 
(tolerância de $5\%$) da resposta ao degrau unitário.

A função de transferência pode ser encontrada, de tal forma que, a primeira
função da malha interna é,

$$
= \frac{\frac{16}{s+4/5}}{1 + k \frac{16}{s+4/5}} = \frac{80}{80 k + 5 s + 4}
$$

O ganho $\frac{1}{s}$ produz,

$$
= \frac{80}{5 s^2 + 80 k s + 4 s}
$$
A função para a ultima malha fechada é,

$$
\frac{C(s)}{R(s)} = \frac{\frac{80}{5 s^2 + 80 k s + 4 s}}{1 + \frac{80}{5 s^2 + 80 k s + 4 s}} = \frac{80}{5 s^2 + s(80 k + 4) + 80}
$$

Comparando com a forma padrão de um sistema de segunda ordem, é possível obter,

$$
\omega_n = \sqrt{80} = 4 \sqrt{5}
$$

$$
2 \zeta \omega_n = 80 k + 4
$$

Desenvolvendo $\zeta$, é possível facilmente adquirir.

$$
2 \times 0.5 \times 4 \sqrt{5} = 80 k + 4
$$

O valor de $k$ é portanto,

$$
k = \frac{-1 + \sqrt{5}}{20} = 61.80E-3
$$

Para o cálculo do tempo de subida é necessário encontrar $\beta$,

$$
\omega_d = \omega_n \sqrt{1 - \zeta^2} = 4 \sqrt{5} \sqrt{1 - 0.5^2} = 7.746
$$

$$
\beta = tg^{-1}\frac{\omega_d}{\zeta \omega_n} = tg^{-1}\frac{7.746}{4.472} = 1.047
$$

O tempo de subida é portanto,

$$
t_r = \frac{\pi - \beta}{\omega_d} = \frac{\pi - 1.047}{7.746} = 270.4E-3
$$

O tempo de pico é,

$$
t_p = \frac{\pi}{\omega_d} = 405.6E-3
$$

Máximo sobre sinal,

$$
M_p = 163.0E-3
$$

O tempo de acomodação,

$$
t_s  = 335.4E-3
$$


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% decima quinta
\newpage

15. Encontre o erro estacionário deste sistema para uma entrada em degrau, rampa e parábola.

O sistema final é,

$$
\frac{C(s)}{R(s)} = \frac{10}{s^2 +  s + 10}
$$

Considerando o degrau unitário, o sistema responde,

$$
C(s) = \frac{10}{s^2 +  s + 10}\left(\frac{1}{s}\right)
$$

O valor em regime permanente é,

$$
\lim_{s \to \infty}{s C(s)} = \lim_{s \to \infty}{\frac{10}{s^2 +  s + 10}} = 1
$$

Nota-se portanto que o erro em regime estacionário é $0 \%$

Considerando a rampa, o sistema responde,

$$
C(s) = \frac{10}{s^2 +  s + 10}\left(\frac{1}{s^2}\right)
$$

O valor em regime permanente é,

$$
\lim_{s \to \infty}{s C(s)} = \lim_{s \to \infty}{\frac{10}{s^3 +  s^2 + 10 s}} = \infty
$$

Nota-se portanto um erro $\infty \%$

\end{document}

