%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Primeira questão
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

a = [1 2];
b = [1 4];
num = 10*conv(a, b);
a = [1 1];
b = [1 3];
c = [1 5];
den = conv(conv(a, b), conv(c, c));

% expandindo em frações parciais
[r, p, k] = residue(num, den);

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Segunda questão
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

t = 0:0.01:10;

y1 = 3-3*exp(-t);
y2 = 3*t-3+3*exp(-t);
y3 = 3*(t.^2)/2 - 3*t + 3 - 3*exp(-t);

%plot(t, y1, t, y2, t, y3);
%xlabel('tempo seg');
%print -depsc fig2q.eps;


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Terceira questão
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

num = [4 16 12];
den = [1 12 44 48 0];

z = roots(num);
p = roots(den);
k = 1;

fun = zpk(z, p, k);
%pzmap(fun);

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Quarta questão
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

z = [];
p = [-2+5j -2-5j];
k = 10;
zpk(z, p, k);

z = [0];
p = [-1+2j -1-2j];
k = 1;
zpk(z, p, k);

z = [0 -1];
p = [-2 -3 -2+5j -2-5j];
k = 4;
zpk(z, p, k);


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Quinta questão
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

gc = tf([1 0],[1 1]);
gp = tf([2], [1 1 2]);
gs = tf([1], [1 0.5]);

% item a
s = series(gc, gp);
f = feedback(s, gs);

% item b
p = parallel(gc, gp);
f1 = feedback(p, gs);

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Sétima questão
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

controlador = tf([1], [1 0]);
planta = tf([10], [1 5]);
sensor = tf([1], [1 1]);

h1 = series(controlador, planta);
funcao_transferencia = feedback(h1, sensor);




